---
title: Pythonista3 ã®Keyboard ã§ã€Pythonista3 ã®ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚’æ¥½ã«ã™ã‚‹ã€‚äººç”Ÿã‚’è±Šã‹ã«ã™ã‚‹ã€‚
tags:
  - Mobile
  - Python3
  - MobileApp
  - Pythonista3
private: false
updated_at: '2022-12-04T07:01:07+09:00'
id: 5483d021fdfa44ea43e0
organization_url_name: null
slide: false
ignorePublish: false
---

ã“ã®è¨˜äº‹ã¯ã€[Pythonista3 Advent Calendar 2022](https://qiita.com/advent-calendar/2022/pythonista3) ã® 04 æ—¥ç›®ã®è¨˜äº‹ã§ã™ã€‚

ğŸ‘‡ : 03 æ—¥ç›®

https://qiita.com/pome-ta/items/c3902a0f6a0de691df8d

ğŸ‘‡ : 05 æ—¥ç›®

https://qiita.com/pome-ta/items/2f02d94eea73974aae88

https://qiita.com/advent-calendar/2022/pythonista3

ä¸€æ–¹çš„ãªåã£ãŸç›®ç·šã§ã€Pythonista3 ã‚’ç´¹ä»‹ã—ã¦ã„ãã¾ã™ã€‚

ã»ã¼æ¯æ—¥ iPhoneï¼ˆPythonista3ï¼‰ã§ã€ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚’ã—ã¦ã„ã‚‹è€…ã§ã™ã€‚ã‚ˆã‚ã—ããŠé¡˜ã„ã—ã¾ã™ã€‚

ä»¥ä¸‹ã€ç§ã® 2022 å¹´ 12 æœˆæ™‚ç‚¹ã®ç’°å¢ƒã§ã™ã€‚

```
--- SYSTEM INFORMATION ---
**System Information**

* Pythonista 3.3 (330025), Default interpreter 3.6.1
* iOS 16.0.2, model iPhone12,1, resolution (portrait) 828.0 x 1792.0 @ 2.0
```

ä»–ã®ç’°å¢ƒ(iPad ã‚„ç«¯æœ«ã®ç¨®é¡ã€iOS ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³é•ã„)ã§ã¯ã€æ„å›³ã¨ã—ãªã„æŒ™å‹•(ã‚¨ãƒ©ãƒ¼ã«ãªã‚‹)ãªã‚‹å ´åˆã‚‚ã‚ã‚Šã¾ã™ã€‚ã”äº†æ‰¿ãã ã•ã„ã€‚

ã¡ãªã¿ã«ã€`model iPhone12,1` ã¯ã€iPhone11 ã§ã™ã€‚

## å…ˆã«ã“ã£ã¡ã‚’ç´¹ä»‹ã—ã‚ ğŸ˜¡

![img221116_193630.gif](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2953777/9f882fe0-301f-6180-22e8-70147ad2c781.gif)

![img221116_193950.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2953777/abb605df-50fa-0227-32f9-da6a2a5d4640.png)

![img221116_193958.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2953777/1c052abe-df54-63c2-f7ad-8f998adebe36.png)

äººç”ŸãŒè±Šã‹ã«ãªã‚‹ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã‰ãƒ¼ â˜ºï¸

![img221116_194037.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2953777/2e84da49-7cfe-b2ff-7576-22e1e0d76bda.png)

ä»Šå›ã¯ç§ãŒ Pythonista3 ã«ã¦ã€é«˜é »åº¦ä½¿ç”¨ã—ã¦ã„ã‚‹ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ç´¹ä»‹ã—ã¾ã™ã€‚

åˆå›ã§ç´¹ä»‹ã›ãšã€æœ¬å½“ã«ç”³ã—è¨³ãªã„æ°—æŒã¡ã§ã„ã£ã±ã„ã§ã™ã€‚æœ¬å½“ã«ãã‚Œãã‚‰ã„ä¾¿åˆ©ã«ãªã‚‹ã®ã§ã€ç´¹ä»‹ã™ã‚‹ã®ãŒæ¥½ã—ã¿ã§ã™ã€‚

ã¿ã‚“ãªã§äººç”Ÿè±Šã‹ã«ãªã‚Šã¾ã—ã‚‡ã†ï¼

## PyKeys ã§ã‚«ã‚¹ã‚¿ãƒ ã—ã¦ã€äººç”Ÿè±Šã‹ã«

![img221116_200131.gif](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2953777/0655b0bf-9dbf-1ca7-92aa-bd0a02560256.gif)

GIF ã§ã¯ã€ä½•ã‚’æŠ¼ã—ã¦ã„ã‚‹ã‹åˆ†ã‹ã‚Šã¥ã‚‰ã„ã§ã™ã­ã€‚ã€‚ã€‚

è‡ªåˆ†ã§è¨­å®šã—ãŸè¦ç´ ã‚’æŠ¼ã—æ–‡å­—ã‚’å…¥åŠ›ã—ã€ã‚³ãƒ”ãƒ¼ã—ãŸã‚‚ã®ã‚’ã€ŒğŸ“ã€ã‚’æŠ¼ã—ã¦ã€ãƒšãƒ¼ã‚¹ãƒˆã—ã¦ã„ã¾ã™ã€‚

![img221116_200502.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2953777/85f6b197-c9fd-f433-7396-f08f4fc51087.png)

è¨­å®šã™ã‚‹è¦ç´ ã¯ã€è‡ªåˆ†ã§é¸ã¹ã¾ã™ã€‚ãƒšãƒ¼ã‚¹ãƒˆã‚‚ã€ã‚ã–ã‚ã–ç”»é¢é•·æŠ¼ã—ã—ã¦ popup ã®ã€ŒPasteã€ã‚’é¸æŠã›ãšã«ã€ãƒ¯ãƒ³ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã§è²¼ã‚Šä»˜ã‘ãŒã§ãã¾ã™ã€‚

### `keyboard` ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«

[keyboard â€” Utilities for the Pythonista Keyboard â€” Python 3.6.1 documentation](https://omz-software.com/pythonista/docs/ios/keyboard.html)

https://omz-software.com/pythonista/docs/ios/keyboard.html

> keyboard ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã¯ã€Pythonista ã®ã‚«ã‚¹ã‚¿ãƒ ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰("PyKeys")ã‚’æ‹¡å¼µã™ã‚‹ãŸã‚ã®æ§˜ã€…ãªé–¢æ•°ã‚’æä¾›ã—ã¾ã™ã€‚

Pythonista3 ã«ã‚«ã‚¹ã‚¿ãƒ ã§ãã‚‹ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ãŒç”¨æ„ã•ã‚Œã¦ãŠã‚Šã€`keyboard` ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ä½¿ã£ã¦è‰²ã€…ã¨ã§ãã‚‹ã‚ã‘ã§ã™ã­ã€‚

Documentation ã«ã¯`ui.View` ã¨æ›¸ã‹ã‚Œã¦ã„ã¦ã€é›£ã—ãã†ãªå°è±¡ãŒã‚ã‚Šã¾ã™ã­ã€‚

å¤§ä¸ˆå¤«ã§ã™ã€‚å®‰å¿ƒã—ã¦ãã ã•ã„ â˜ºï¸

ã‚‚ã†ã€Pythonista3 ã«æœ€ä½é™ã®ã‚³ãƒ¼ãƒ‰ã¯ç”¨æ„ã•ã‚Œã¦ã„ã¾ã™ã€‚

### ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰`Examples/Keyboard/Special Characters.py`

ä»¥å‰ 2 æ—¥ç›®ã®è¨˜äº‹ã«ã¦ã€`Examples` ãƒ•ã‚©ãƒ«ãƒ€ã‚’ç´¹ä»‹ã—ã¾ã—ãŸã€‚`Keyboard` å†…ã«ãŸãã•ã‚“ã®ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ãŒã‚ã‚Šã¾ã™ã€‚

`Special Characters.py` ã‚’å€Ÿç”¨ & ä¸€éƒ¨å¤‰æ›´ã‚’ã—å®Ÿè£…ã—ã¾ã™ã€‚

### ã‚³ãƒ¼ãƒ‰å…¨è²Œ

åŸºæœ¬çš„ã«å¤‰æ›´ç‚¹ã¯

- `characters`
  - ä½¿ã„ãŸã„æ–‡å­—åˆ—
- `def layout`
  - ã‚­ãƒ¼ã®ã‚µã‚¤ã‚ºã‚’æ°—æŒã¡å°ã•ã‚ã«
- `clipboard`
  - `(?)` ãƒ˜ãƒ«ãƒ—ã®éƒ¨åˆ†ã«ã€ã€ŒğŸ“ã€ãƒšãƒ¼ã‚¹ãƒˆ

ç¨‹åº¦ã§ã€æ®‹ã‚Šã¯ã»ã¼ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã‚’ä½¿ã£ã¦ã„ã¾ã™ã€‚

ç§ã®ç’°å¢ƒã§ã¯ã€Reformat Code ã‚’ä½¿ã†ã¨ã€æœ€çµ‚è¡Œã«`)` ãŒå®Ÿç¾ã—ã¦ã—ã¾ã„ã¾ã™ã€‚ç´°ã‹ãè¿½ã£ã¦ãªã„ã®ã§ã™ãŒã€‚ã€‚ã€‚

```py
import keyboard
import ui
import clipboard

# You can modify or extend this list to change the characters that are shown in the keyboard extension:
characters = [
  'ğŸ“', '#', '-', '*', '/', '%', '`', '<', '>', '[', ']', '1', '2', '3', '4',
  '5', '6', '7', '8', '9', '0'
]


class CharsView(ui.View):
  def __init__(self, *args, **kwargs):
    super().__init__(self, *args, **kwargs)
    self.background_color = '#333'
    self.scroll_view = ui.ScrollView(frame=self.bounds, flex='WH')
    self.scroll_view.paging_enabled = True
    self.scroll_view.shows_horizontal_scroll_indicator = False
    self.add_subview(self.scroll_view)
    self.buttons = []
    for c in characters:
      button = ui.Button(title=c)
      button.font = ('<System>', 16)
      button.background_color = (1, 1, 1, 0.1)
      button.tint_color = 'white'
      button.corner_radius = 4
      button.action = self.button_action
      self.scroll_view.add_subview(button)
      self.buttons.append(button)

  def layout(self):
    rows = max(1, int(self.bounds.h / 36))
    bw = 32  # 44
    h = (self.bounds.h / rows) - 4
    x, y = 2.5, 2
    for button in self.buttons:
      button.frame = (x, y, bw, h)
      y += h + 4
      if y + h > self.bounds.h:
        y = 2
        x += bw + 4
    self.scroll_view.content_size = (
      (len(self.buttons) / rows + 1) * (bw + 4) + 40, 0)

  def button_action(self, sender):
    if sender.title == 'ğŸ“':
      text = clipboard.get()
    else:
      text = sender.title

    if keyboard.is_keyboard():
      keyboard.play_input_click()
      keyboard.insert_text(text)
    else:
      print('Keyboard input:', text)


def main():
  v = CharsView(frame=(0, 0, 320, 40))
  if keyboard.is_keyboard():
    keyboard.set_view(v, 'current')
  else:
    # For debugging in the main app:
    v.name = 'Keyboard Preview'
    v.present('sheet')


if __name__ == '__main__':
  main()

```

### ãŠã“ã ã‚ã‚Šã‚’èã„ã¦ãŠãã‚Œãƒ¼

Extended Keyboard ã§æ©æµã‚’å—ã‘ã¤ã¤ã€Python ã¨ Markdown åŒæ–¹ãŒã„ã„æ„Ÿã˜ã«æ›¸ã‘ã‚‹ã‚ˆã†ãªé…ç½®ã«ã—ã¦ã¿ã¦ã„ã¾ã™ã€‚

Extended Keyboard ä¸Šã§ã€é•·æŠ¼ã—ã™ã‚Œã°å‡ºã¦ãã‚‹ã‘ã©ã‚‚ã€ä½¿ç”¨é »åº¦ãŒé«˜ã„ã‚­ãƒ¼ã«ç°¡å˜ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã‚ˆã†ã«ã€‚

ã„ã¾ã€ã“ã†ã—ã¦ Advent Calendar ã‚’ Pythonista3 ã§æ›¸ã‘ã¦ã„ã‚‹ã®ã‚‚ã€PyKeys ã‚ã£ã¦ã“ãã§ã™ã­ â˜ºï¸

| Key            | Python                   | Markdown             |
| -------------- | ------------------------ | -------------------- |
| `#`            | ã‚³ãƒ¡ãƒ³ãƒˆ                 | ãƒ˜ãƒƒãƒ€ãƒ¼             |
| `-`            | æ¸›ç®—ãƒ»ãƒã‚¤ãƒŠã‚¹           | ç®‡æ¡æ›¸ããƒªã‚¹ãƒˆ       |
| `*`            | ä¹—ç®—                     | ç®‡æ¡æ›¸ããƒªã‚¹ãƒˆãƒ»å¼·èª¿ |
| `/`            | é™¤ç®—ãƒ»ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹åŒºåˆ‡ã‚Š | -                    |
| ãƒãƒƒã‚¯ã‚¯ã‚©ãƒ¼ãƒˆ | -                        | code                 |
| `>`            | -                        | å¼•ç”¨                 |
| `[`ãƒ»`]`       | é…åˆ—                     | ãƒªãƒ³ã‚¯               |

ã“ã‚Œã‚’æ´¾ç”Ÿã•ã› GLSL ã‚„ JavaScript ç”¨ã®ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰è¨­å®šãªã©ã‚‚ä½œã£ã¦ã„ã¾ã™ã€‚

### è¨­å®šã§ã€Œãƒ•ãƒ«ã‚¢ã‚¯ã‚»ã‚¹ã‚’è¨±å¯ã€

ãƒšãƒ¼ã‚¹ãƒˆæ©Ÿèƒ½ã‚’ PyKeys ã§ä½¿ç”¨ã«ã¯ã€è¨±å¯è¨­å®šãŒå¿…è¦ã§ã™ã€‚

1. è¨­å®š Appï¼ˆPythonista3 App å†…ã® setting ã§ã¯ã‚ã‚Šã¾ã›ã‚“ï¼‰ã‚’é–‹ã
2. ï¼ˆä¸‹ã«ãšã£ãƒ¼ã¨ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã—ã¦ã„ã£ãŸï¼‰Pythonista3 ã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¿ãƒƒãƒ—
3. ã€Œã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã€ ã‚’ã‚¿ãƒƒãƒ—
4. ã€ŒPyKeysã€ã¨ã€Œãƒ•ãƒ«ã‚¢ã‚¯ã‚»ã‚¹ã‚’è¨±å¯ã€ã‚’ã‚¢ã‚¯ãƒ†ã‚£ãƒ–

![img221117_131257.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2953777/1de01d69-0685-e2e1-e6c2-fca063b4e054.png)

![img221117_131305.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2953777/155c86ad-04ff-b6a9-c02c-0851198407e5.png)

ã€ŒPyKeys ã«è¨­å®šã—ã¦ã‚‚ã€ãƒšãƒ¼ã‚¹ãƒˆãŒã§ããªã„ ğŸ˜­ã€ã£ã¦æ–¹ã¯ã€è¨­å®šã‚’ç¢ºèªã—ã¦ã¿ã¦ãã ã•ã„ã€‚

## ãƒ•ã‚¡ã‚¤ãƒ«æ–°è¦ä½œæˆã§äººç”Ÿè±Šã‹ã«

ãƒ•ã‚¡ã‚¤ãƒ«åã¯ã©ã†ã§ã‚‚ã„ã„ã‹ã‚‰ã€Œã¨ã‚Šã‚ãˆãšå®Ÿè¡Œã—ã¦ã€æŒ™å‹•ã‚„çµæœã‚’çŸ¥ã‚ŠãŸã„ã€ã£ã¦å ´é¢ã‚ã‚Šã¾ã›ã‚“ã‹ï¼Ÿ

`Untitled.py` ã§ã‚‚ã„ã„ã‘ã©ï¼ˆPythonista3 ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ•ã‚¡ã‚¤ãƒ«åï¼‰`_1.py`, `_2.py`... ã¨ç¶šã„ã¦ã„ãã®ã‚‚æ°—æŒã¡ãŒã„ã„ã‚‚ã®ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ã¾ãŸã€è¦‹è¿”ã—ã¦ã¿ã‚‹ã¨ã€`Untitled` ç¥­ã‚Šã§ä½•ãŒãªã‚“ã ã‹ã‚ã‹ã‚‰ãªããªã‚Šã¾ã™ã—ï¼ˆçŸ›ç›¾ï¼‰ã€‚

![img221117_162650.gif](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2953777/674366ad-7f9f-6f56-d98b-32c7ba768198.gif)

ï¼ˆã¾ãŸã‚‚ã‚„ç™»å ´ã®ï¼‰Editor Action ã‚’ä½¿ã£ã¦ã€ã„ã„æ„Ÿã˜ã«æ–°è¦ãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆã™ã‚‹ã‚¹ã‚¯ãƒªãƒ—ãƒˆã§ã™ã€‚

1. æ–°è¦ãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆ Editor Action ã‚’ã‚¿ãƒƒãƒ—
2. ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ç”»é¢ä¸Šã«ã€ä½œæˆæ¡ˆå†…ã®ãƒ­ã‚°ãŒå‡ºç¾
3. ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã§ã€æ•´æ•°å€¤å…¥åŠ›
4. return
5. `YYMMDD_HHmm.py` ã¨ã—ã¦æ–°è¦ä½œæˆ
6. æ–°è¦ã‚¿ãƒ–ã§é–‹ã‹ã‚Œã‚‹

![img221117_163435.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2953777/cfe480cc-ea85-94e6-22c1-7b91562b3875.png)

æ–°è¦ãƒ•ã‚¡ã‚¤ãƒ«ã¯ã€Editor Action ã‚’å®Ÿè¡Œæ™‚ã«ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãªãƒ•ã‚¡ã‚¤ãƒ«éšå±¤ã«ä½œæˆã•ã‚Œã¾ã™ï¼ˆãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹å–å¾—ã§ããªã„å ´åˆã€`Documents` ç›´ä¸‹ï¼‰ã€‚

### ã‚³ãƒ¼ãƒ‰ã®å…¨è²Œ

ã‚³ãƒ¼ãƒ‰é‡ã®å¤šã•ã«é¢é£Ÿã‚‰ã£ã¦ã—ã¾ã†ã‹ã‚‚ã§ã™ãŒã€å¤§åŠãŒãƒ†ãƒ³ãƒ—ãƒ¬ç”¨ã«è²¼ã‚Šä»˜ã‘ã‚‹æ–‡å­—åˆ—ãŸã¡ãªã®ã§ã€å®Ÿéš›ã¯ã•ã»ã©å¤šãã‚ã‚Šã¾ã›ã‚“ã€‚

```py
from pathlib import Path

import arrow

from objc_util import ObjCClass
import editor
import console

# todo: set code templates
blank_value = ''

copy_value = str(editor.get_text() if editor.get_text() else blank_value)

ui_value = '''\
import ui


class View(ui.View):
  def __init__(self):
    self.bg_color = 1

  def did_load(self):
    pass

  def will_close(self):
    pass

  def draw(self):
    pass

  def layout(self):
    pass

  def touch_began(self, touch):
    pass

  def touch_moved(self, touch):
    pass

  def touch_ended(self, touch):
    pass

  def keyboard_frame_will_change(self, frame):
    pass

  def keyboard_frame_did_change(self, frame):
    pass


if __name__ == '__main__':
  view = View()
  view.present()
  #view.present(hide_title_bar=True)
  #view.present(style='fullscreen', orientations=['portrait'])

'''

shader_value = '''\
precision highp float;

uniform float u_time;
uniform vec2 u_sprite_size;
uniform float u_scale;
uniform sampler2D u_texture;
uniform vec4 u_tint_color;
uniform vec4 u_fill_color;
varying vec2 v_tex_coord;


void main(){
  float t = u_time;
  vec2 uv = v_tex_coord;
  vec2 p = (uv- vec2(0.5)) *2.0;


  uv = uv / 2.0 + vec2(0.5);
  if (uv.x < 0.0 || uv.x > 1.0 || uv.y < 0.0 || uv.y > 1.0)discard;
  gl_FragColor = vec4(uv.x, uv.y, 0.0, 1.0);
  //gl_FragColor = texture2D(u_texture,uv.xy);

}

'''


def get_feedback_generator():
  """
  call feedback ex:
  `UIImpactFeedbackGenerator.impactOccurred()`
  """
  style = 4  # 0-4
  UIImpactFeedbackGenerator = ObjCClass('UIImpactFeedbackGenerator').new()
  UIImpactFeedbackGenerator.prepare()
  UIImpactFeedbackGenerator.initWithStyle_(style)
  return UIImpactFeedbackGenerator


class TemplateItem:
  def __init__(self, prompt, code, extension='.py'):
    self.prompt = prompt
    self.code = code
    self.extension = extension


def get_prompt(templates):
  prompt = ''
  for n, template in enumerate(templates):
    prompt += f'{n} => {template.prompt},\n'
  prompt += 'select a num, create a template file.\n'
  return prompt


def get_dirpath():
  fliepath = editor.get_path()
  if fliepath:
    dir_path = Path(f'{fliepath}').parent
  else:
    _home = Path('/').home()
    dir_path = _home / 'Documents'
  return dir_path


def get_nowtime():
  utc = arrow.utcnow().to('JST')
  now_str = utc.format('YYMMDD_HHmm')
  return now_str


def create_flie(templates):
  prompt = get_prompt(templates)
  feedback = get_feedback_generator()
  try:
    choose_num = int(input(prompt))
  except:
    print('Select the number(int) displayed. ')
    feedback.impactOccurred()
    return
  if choose_num == None:
    print('I can\'t find the number I chose.')
    feedback.impactOccurred()
    return

  choose_template = templates[choose_num]
  now_time = get_nowtime()

  root_dir = get_dirpath()
  new_file = Path(root_dir, f'{now_time}{choose_template.extension}')
  new_file.write_text(choose_template.code, encoding='utf-8')

  console.clear()
  editor.open_file(str(new_file), new_tab=True)
  console.hide_output()
  feedback.impactOccurred()


def main():
  blank = TemplateItem('blank', blank_value)
  copy = TemplateItem('copy', copy_value)
  ui = TemplateItem('ui', ui_value)
  shader = TemplateItem('shader', shader_value, '.js')

  template_list = [blank, copy, ui, shader]
  create_flie(template_list)


if __name__ == '__main__':
  main()

```

### ã‚³ãƒ¼ãƒ‰ã®ãªã„ã‚ˆã†

ä¸Šã‹ã‚‰ä¸‹ã«é †ã‚’è¿½ã£ã¦èª¬æ˜ã—ã¦ã„ãã¾ã™ã€‚æ–‡æ³•ã‚ˆã‚Šã‚‚ã€ä½•ã‚’ã—ã¦ã‚‹ã®ã‹ãƒ™ãƒ¼ã‚¹ã§ã™ã®ã§ã€æ›¸ãæ›ãˆã‚‹éš›ã®å‚è€ƒã«ãªã‚Œã°ã¨æ€ã„ã¾ã™ã€‚

ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ãŒã‹ãªã‚Šã‚¬ãƒã§ã™ã€‚æ°—è»½ã«æ°—ã«ãªã‚‹æ‰€ã¯æ•™ãˆã¦ãã ã•ã„ ğŸ™‡

#### `copy_value`

`editor` ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ä½¿ã„ã€ç·¨é›†ä¸­ãƒ•ã‚¡ã‚¤ãƒ«ã®ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼ã—ã¦ã„ã¾ã™ã€‚

æ–‡å­—ã¨ã—ã¦å–å¾—ã§ããªã„å ´åˆã‚„ã€ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹å¤±æ•—ã§ã‚‚ç©ºã®ãƒ•ã‚¡ã‚¤ãƒ«ç”Ÿæˆã™ã‚‹ã‚ˆã†ã«`if` ã§å‡¦ç†ã•ã›ã¦ã„ã¾ã™ã€‚

#### `ui_value` `shader_value`

`ui` ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ï¼ˆæ¬¡å›ã®è¨˜äº‹äºˆå®šï¼‰ã‚„ã‚·ã‚§ãƒ¼ãƒ€ãƒ¼ï¼ˆGLSLï¼‰ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã¨ã—ã¦ã€æº–å‚™ã—ã¦ã¾ã™ã€‚

ä½¿ã„ã„ã„ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ä½œã‚ŠãŸã„å ´åˆã¯ã€ã“ã“ã‚’æ›¸ãæ›ãˆã‚‹ã‹ã€å‚è€ƒã«ã—ã¦è¿½åŠ ã™ã‚‹äº‹ã‚‚å¯èƒ½ã§ã™ã€‚

#### `class TemplateItem`

ä¸é©åˆ‡ãªæ›¸ãæ–¹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ãŒã€ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¨ã—ã¦`.` å‘¼ã³å‡ºã—ã‚’ã—ãŸã‹ã£ãŸã®ã§ã€class ã§ä½œã£ã¦ã„ã¾ã™ã€‚

è¾æ›¸ã®`dir['key']` ãŒã—ã£ãã‚Šã“ãªã‹ã£ãŸã®ãŒç†ç”±ã§ã™ã€‚

#### `def get_prompt(templates):`

console ç”»é¢ã«æ“ä½œæŒ‡ç¤ºã¨ã—ã¦å‡ºã™å½¹å‰²ã§ã™ã€‚`enumerate` ã§ index ã¨ã—ã¦ã‚«ã‚¦ãƒ³ãƒˆã•ã›ã¦ã€ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆä¸€è¦§ã®é…åˆ—å‘¼ã³å‡ºã—ã¨åŒæœŸã§ãã‚‹ã‚ˆã†ã«ã—ã¦ã¾ã™ã€‚

#### `def get_dirpath():`

ã‚‚ã—ã‚‚ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹å–å¾—ãŒå¤±æ•—ã—ãŸå ´åˆã€Script Library ç›´ä¸‹ã«ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã§ãã‚‹ã‚ˆã†ã«ã—ã¦ã¾ã™ã€‚

#### `def get_nowtime():`

[arrow â€” Python 3.6.1 documentation](https://omz-software.com/pythonista/docs/ios/undocumented/arrow.html)

https://omz-software.com/pythonista/docs/ios/undocumented/arrow.htm

`arrow` ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãŒ Pythonista3 ã«ã¯ã€æ¨™æº–ã§å…¥ã£ã¦ã„ã‚‹ã®ã§`time` ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãŒ NG ãªç†ç”±ã¯ã‚ã‚Šã¾ã›ã‚“ï¼ˆé›°å›²æ°—ï¼‰ã€‚

#### `def create_flie(templates):`

ã“ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®å¿ƒè‡“éƒ¨ã§ã™ã€‚

Pythonista3 çš„ãªè¨€åŠã§ã™ãŒã€`editor` ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã«ã‚‚`editor.make_new_file([name, content])` ã¨ã—ã¦ã€ãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆé–¢æ•°ã¯ç”¨æ„ã•ã‚Œã¦ã„ã¾ã™ã€‚

ã—ã‹ã—ã€`.py` ãƒ•ã‚¡ã‚¤ãƒ«ã—ã‹ç”Ÿæˆã—ã¦ãã‚Œãªã„ã”æ§˜å­ãªã®ã§ã™ï¼ˆè‡ªå‹•ä¿å­˜ã—ã¦ãã‚Œã‚‹ã®ã§ä¾¿åˆ©ãªã®ã§ã™ãŒï¼‰ã€‚

ä»Šå›ã®å‡¦ç†ã§ã¯`pathlib.Path.write_text` ã§ã€äº‹å‰ã«è¨­å®šã—ã¦ã„ã‚‹`pathlib` ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«`write_text` ã—ã¦ã‚ã’ã‚‹ã‹ãŸã¡ã‚’ã¨ã£ã¦ã„ã¾ã™ï¼ˆãªã‚“ã¨ãªã`pathlib` ãŒå¥½ãï¼‰ã€‚

ã¾ãŸã€

[console â€” Utilities for Console Output and Various System Services â€” Python 3.6.1 documentation](https://omz-software.com/pythonista/docs/ios/console.html)

https://omz-software.com/pythonista/docs/ios/console.html

`console` ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ä½¿ã„ã€console ç”»é¢ã®æ–‡å­—ã‚’æ¶ˆã—ãŸã‚Šå¼•ã£è¾¼ã‚ãŸã‚Šã—ã¦ã„ã¾ã™ã€‚

#### `def main():`

ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®é¸æŠãŒã§ãã‚‹ã‚ˆã†ã«ã€`TemplateItem` ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’é…åˆ—ã«æ ¼ç´ã—ã¦ã„ã¾ã™ã€‚

`TemplateItem` ã®å¼•æ•°ã¨ã—ã¦

- `prompt`
  - console ã«è¡¨ç¤ºã•ã›ãŸã„æ–‡å­—åˆ—
- `code`
  - ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã¨ã—ã¦ã€æ–°è¦ãƒ•ã‚¡ã‚¤ãƒ«ã«æ›¸ãè¾¼ã¿ãŸã„æ–‡å­—åˆ—
- `extension`
  - æ–°è¦ãƒ•ã‚¡ã‚¤ãƒ«ã®æ‹¡å¼µå­
  - æŒ‡å®šã—ãªã„å ´åˆã¯`.py`

ã¾ãŸã€`ui` ã¨å¤‰æ•°åã‚’æŒ‡å®šã—ã¾ã£ã¦ã„ã¾ã™ãŒã€`ui.View` ä½¿ã‚ãªã„ã—ã€`main` é–¢æ•°å†…ã‚¹ã‚³ãƒ¼ãƒ—ã ã‹ã‚‰ãƒ¨ã‚·ï¼ã¨ã—ã¦ã—ã¾ã£ã¦ã¾ã™ï¼ˆã‚ˆããªã„ï¼‰

## æ¬¡å›ã¯

ã“ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆãŸã¡ã§ã€ç§ã®äººç”Ÿã¯è±Šã‹ã«ãªã£ã¦ã„ã¾ã™ â˜ºï¸

ãã‚“ãªã€è±Šã‹ã«ãªã‚‹ç§˜è¨£ã‚’ã¿ãªã•ã¾ã«å…±æœ‰ãŒã§ãã¦å¬‰ã—ã„ã§ã™ã€‚

iPhone ã§ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ãã¨ã„ã†è¡Œç‚ºãŒã€è‹¦è¡Œã®ã‚ˆã†ã«è¦‹ãˆã‚‹æ–¹ã‚‚ã„ã‚‰ã—ã‚ƒã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ãŒã€ã“ã†ã—ãŸã‚¹ã‚¯ãƒªãƒ—ãƒˆã«æ”¯ãˆã‚‰ã‚Œæ¥½ã—ãã‚„ã£ã¦ã¾ã™ ğŸ˜‡

æ¬¡å›ã¯ã€`ui` ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã«ã¤ã„ã¦ã®è¨˜äº‹ã§ã™ã€‚PyKeys ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã®å‡¦ç†ã‚„ã€ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®ä¸­ã§ã‚‚ç™»å ´ã—ã¦ããŸ`ui` ã‚’çŸ¥ã‚‹ã¨ Pythonista3 ã®æ¥½ã—ã•ãŒã‚ˆã‚Šä¸€å±¤åºƒãŒã‚‹ã¨æ€ã„ã¾ã™ã€‚

ã“ã“ã¾ã§ã€èª­ã‚“ã§ã„ãŸã ãã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã—ãŸã€‚

ğŸ‘‡ : 05 æ—¥ç›®

https://qiita.com/pome-ta/items/2f02d94eea73974aae88

## ã›ã‚“ã§ã‚“

### Discord

Pythonista3 ã®æ—¥æœ¬èªã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ãƒ¼ãŒã‚ã‚Šã¾ã™ã€‚ã¿ãªã•ã‚“å„ªã—ãã¦ã€ã‚ã‹ã‚‰ãªã„ã¨ã“ã‚ã‚‚è¦ªèº«ã«æ•™ãˆã¦ãã‚Œã‚‹ã®ã§ã“ã®æ©Ÿä¼šã«è¦—ã„ã¦ã¿ã¦ãã ã•ã„ã€‚

https://t.co/0IOW2hn1VC

### æ›¸ç±

iPhone/iPad ã§ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã™ã‚‹æœ€å¼·ã®æœ¬ã€‚

- [Python ã‚„ Jupyter ã§ iPhone/iPad å…ˆç«¯æ©Ÿèƒ½ã‚’ç°¡å˜ï½¥è‡ªç”±ã«ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ï¼ã€Œæ´»ç”¨ç¯‡ã€ï¼šhirax](https://techbookfest.org/product/1WiyV4LEev3f4YrzesRKWV?productVariantID=axX32srsSgtLtZWUtjkj99)

https://techbookfest.org/product/1WiyV4LEev3f4YrzesRKWV?productVariantID=axX32srsSgtLtZWUtjkj99

- [Python ã‚„ Jupyter ã§ iPhone/iPad å…ˆç«¯æ©Ÿèƒ½ã‚’ç°¡å˜ï½¥è‡ªç”±ã«ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ï¼ã€ŒåœŸå°ç¯‡ã€ï¼šhirax](https://techbookfest.org/product/wTZTyeibm5GQ5XgdfMrEBV?productVariantID=kRDmN1udbEYZUWbETdwL8r)

https://techbookfest.org/product/wTZTyeibm5GQ5XgdfMrEBV?productVariantID=kRDmN1udbEYZUWbETdwL8r

### ãã®ä»–

- ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰

[Pythonista3 Advent Calendar 2022](https://qiita.com/advent-calendar/2022/pythonista3) ã§ã®ã‚³ãƒ¼ãƒ‰ã‚’ã¾ã¨ã‚ã¦ã„ã‚‹ãƒªãƒã‚¸ãƒˆãƒªãŒã‚ã‚Šã¾ã™ã€‚

ã‚³ãƒ¼ãƒ‰ã®ã‚¨ãƒ©ãƒ¼ã‚„å¤‰ãªã¨ã“ã‚ã‚„æ”¹å–„ç‚¹ãªã©ã€‚ã”æŒ‡æ‘˜ã‚„ PR ãŠå¾…ã¡ã—ã¦ãŠã‚Šã¾ã™ãƒ¼

https://github.com/pome-ta/Pythonista3AdventCalendar2022sampleCode

- Twitter

ãªã‚“ã—ã‹ã‚¬ãƒãƒ£ã‚¬ãƒãƒ£ã—ã¦ã„ã¾ã™ãŒã€ãŠæ°—å…¼ã­ãªããŠå£°ãŒã‘ãã ã•ã„ã¾ã›ãƒ¼

https://twitter.com/pome_ta93

<blockquote class="twitter-tweet"><p lang="ja" dir="ltr">ã‚„ã‚Œã‚‹ã‹ã€ã‚„ã‚Œãªã„ã‹ã€‚ã§ã¯ãªãã€ã‚„ã‚‹ã‚“ã ã‘ã©ã‚‚ã€ç´¹ä»‹èª¬æ˜ã™ã‚‹ã“ã¨ã¯å°½ããªã„ã¨æ€ã†ã‘ã©ã€ç· ã‚åˆ‡ã‚Šå®ˆã‚Œã‚‹ã‹ï¼Ÿã£ã¦è©±ã‚ˆï¼ï¼ˆã‚¯ã‚ºï¼‰<br><br>Pythonista3 Advent Calendar 2022 <a href="https://t.co/JKUxA525Pt">https://t.co/JKUxA525Pt</a> <a href="https://twitter.com/hashtag/Qiita?src=hash&amp;ref_src=twsrc%5Etfw">#Qiita</a></p>&mdash; pome-ta (@pome_ta93) <a href="https://twitter.com/pome_ta93/status/1588570697777152006?ref_src=twsrc%5Etfw">November 4, 2022</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>

- GitHub

åŸºæœ¬çš„ã« GitHub ã«ã‚³ãƒ¼ãƒ‰ã‚’ã‚ã’ã¦ã„ã‚‹ã®ã§ã€ä½•ã«ãƒãƒã£ã¦ä½•ã‚’å®Ÿè£…ã—ã¦ã„ã‚‹ã®ã‹è¦³æ¸¬ã§ãã‚‹ã¨æ€ã„ã¾ã™ã€‚

https://github.com/pome-ta
